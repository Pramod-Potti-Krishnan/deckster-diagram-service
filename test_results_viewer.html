<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Test Results - All Diagrams</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #1a202c;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .stats {
            display: flex;
            gap: 30px;
            margin-top: 20px;
        }
        
        .stat {
            flex: 1;
            padding: 15ŸÜÿßŸæÿ∞€åÿ±;
            background: #f7fafc;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #48bb78;
        }
        
        .stat-label {
            color: #718096;
            margin-top: 5px;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            background: white;
            padding: 10px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .tab {
            padding: 12px 24px;
            background: #f7fafc;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            color: #4a5568;
            transition: all 0.3s ease;
        }
        
        .tab:hover {
            background: #e2e8f0;
        }
        
        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .content {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .category-title {
            font-size: 1.8em;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .diagram-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .diagram-card {
            background: #f7fafc;
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .diagram-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .diagram-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 500;
        }
        
        .badge-svg {
            background: #9f7aea;
            color: white;
        }
        
        .badge-mermaid {
            background: #4299e1;
            color: white;
        }
        
        .diagram-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: auto;
        }
        
        .diagram-container iframe {
            width: 100%;
            height: 400px;
            border: none;
            border-radius: 4px;
        }
        
        .mermaid-diagram {
            max-width: 100%;
            overflow: auto;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #718096;
        }
        
        .error {
            background: #fed7d7;
            color: #c53030;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            color: white;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé® Comprehensive Diagram Test Results</h1>
            <p style="color: #718096; font-size: 1.1em; margin-top: 10px;">
                WebSocket-based diagram generation with SVG templates and Mermaid
            </p>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value">32/32</div>
                    <div class="stat-label">Tests Passed</div>
                </div>
                <div class="stat">
                    <div class="stat-value">100%</div>
                    <div class="stat-label">Success Rate</div>
                </div>
                <div class="stat">
                    <div class="stat-value">25</div>
                    <div class="stat-label">SVG Templates</div>
                </div>
                <div class="stat">
                    <div class="stat-value">7</div>
                    <div class="stat-label">Mermaid Types</div>
                </div>
            </div>
        </header>

        <div class="tabs">
            <button class="tab active" onclick="showTab('pyramids')">Pyramids</button>
            <button class="tab" onclick="showTab('cycles')">Cycles</button>
            <button class="tab" onclick="showTab('venn')">Venn Diagrams</button>
            <button class="tab" onclick="showTab('honeycomb')">Honeycombs</button>
            <button class="tab" onclick="showTab('matrices')">Matrices</button>
            <button class="tab" onclick="showTab('hub-spoke')">Hub & Spoke</button>
            <button class="tab" onclick="showTab('funnels')">Funnels</button>
            <button class="tab" onclick="showTab('process')">Process Flows</button>
            <button class="tab" onclick="showTab('other-svg')">Other SVG</button>
            <button class="tab" onclick="showTab('mermaid')">Mermaid Diagrams</button>
        </div>

        <div class="content">
            <!-- Pyramids Tab -->
            <div id="pyramids" class="tab-content active">
                <h2 class="category-title">üìê Pyramid Diagrams</h2>
                <div class="diagram-grid">
                    <div class="diagram-card">
                        <div class="diagram-title">
                            3-Level Pyramid
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/pyramid_3_level.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            4-Level Pyramid
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/pyramid_4_level.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            5-Level Pyramid
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/pyramid_5_level.svg"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cycles Tab -->
            <div id="cycles" class="tab-content">
                <h2 class="category-title">üîÑ Cycle Diagrams</h2>
                <div class="diagram-grid">
                    <div class="diagram-card">
                        <div class="diagram-title">
                            3-Step Cycle
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/cycle_3_step.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            4-Step Cycle
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/cycle_4_step.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            5-Step Cycle
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/cycle_5_step.svg"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Venn Tab -->
            <div id="venn" class="tab-content">
                <h2 class="category-title">‚≠ï Venn Diagrams</h2>
                <div class="diagram-grid">
                    <div class="diagram-card">
                        <div class="diagram-title">
                            2-Circle Venn
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/venn_2_circle.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            3-Circle Venn
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/venn_3_circle.svg"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Honeycomb Tab -->
            <div id="honeycomb" class="tab-content">
                <h2 class="category-title">üî∂ Honeycomb Diagrams</h2>
                <div class="diagram-grid">
                    <div class="diagram-card">
                        <div class="diagram-title">
                            3-Cell Honeycomb
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/honeycomb_3.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            5-Cell Honeycomb
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/honeycomb_5.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            7-Cell Honeycomb
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/honeycomb_7.svg"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Matrices Tab -->
            <div id="matrices" class="tab-content">
                <h2 class="category-title">‚ö° Matrix Diagrams</h2>
                <div class="diagram-grid">
                    <div class="diagram-card">
                        <div class="diagram-title">
                            2x2 Matrix
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/matrix_2x2.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            3x3 Matrix
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/matrix_3x3.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            SWOT Matrix
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/swot_matrix.svg"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Hub & Spoke Tab -->
            <div id="hub-spoke" class="tab-content">
                <h2 class="category-title">üéØ Hub & Spoke Diagrams</h2>
                <div class="diagram-grid">
                    <div class="diagram-card">
                        <div class="diagram-title">
                            4-Spoke Hub
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/hub_spoke_4.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            6-Spoke Hub
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/hub_spoke_6.svg"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Funnels Tab -->
            <div id="funnels" class="tab-content">
                <h2 class="category-title">üîª Funnel Diagrams</h2>
                <div class="diagram-grid">
                    <div class="diagram-card">
                        <div class="diagram-title">
                            3-Stage Funnel
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/funnel_3_stage.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            4-Stage Funnel
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/funnel_4_stage.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            5-Stage Funnel
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/funnel_5_stage.svg"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Process Flows Tab -->
            <div id="process" class="tab-content">
                <h2 class="category-title">‚û°Ô∏è Process Flow Diagrams</h2>
                <div class="diagram-grid">
                    <div class="diagram-card">
                        <div class="diagram-title">
                            3-Step Process
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/process_flow_3.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            5-Step Process
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/process_flow_5.svg"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other SVG Tab -->
            <div id="other-svg" class="tab-content">
                <h2 class="category-title">üé® Other SVG Diagrams</h2>
                <div class="diagram-grid">
                    <div class="diagram-card">
                        <div class="diagram-title">
                            Fishbone (4-Bone)
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/fishbone_4_bone.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            3 Gears
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/gears_3.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            Quarterly Roadmap
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/roadmap_quarterly_4.svg"></iframe>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            Horizontal Timeline
                            <span class="badge badge-svg">SVG Template</span>
                        </div>
                        <div class="diagram-container">
                            <iframe src="test_results_comprehensive/svg_templates/timeline_horizontal.svg"></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mermaid Tab -->
            <div id="mermaid" class="tab-content">
                <h2 class="category-title">üßú‚Äç‚ôÄÔ∏è Mermaid Diagrams</h2>
                <div class="diagram-grid">
                    <div class="diagram-card">
                        <div class="diagram-title">
                            Flowchart
                            <span class="badge badge-mermaid">Mermaid</span>
                        </div>
                        <div class="diagram-container">
                            <div class="mermaid-diagram" id="mermaid-flowchart"></div>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            Entity Relationship
                            <span class="badge badge-mermaid">Mermaid</span>
                        </div>
                        <div class="diagram-container">
                            <div class="mermaid-diagram" id="mermaid-erDiagram"></div>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            User Journey
                            <span class="badge badge-mermaid">Mermaid</span>
                        </div>
                        <div class="diagram-container">
                            <div class="mermaid-diagram" id="mermaid-journey"></div>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            Gantt Chart
                            <span class="badge badge-mermaid">Mermaid</span>
                        </div>
                        <div class="diagram-container">
                            <div class="mermaid-diagram" id="mermaid-gantt"></div>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            Quadrant Chart
                            <span class="badge badge-mermaid">Mermaid</span>
                        </div>
                        <div class="diagram-container">
                            <div class="mermaid-diagram" id="mermaid-quadrantChart"></div>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            Timeline
                            <span class="badge badge-mermaid">Mermaid</span>
                        </div>
                        <div class="diagram-container">
                            <div class="mermaid-diagram" id="mermaid-timeline"></div>
                        </div>
                    </div>
                    <div class="diagram-card">
                        <div class="diagram-title">
                            Kanban Board
                            <span class="badge badge-mermaid">Mermaid</span>
                        </div>
                        <div class="diagram-container">
                            <div class="mermaid-diagram" id="mermaid-kanban"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>Generated on <span id="timestamp"></span> | WebSocket Diagram Service v2.0</p>
        </footer>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: false,
            theme: 'default',
            themeVariables: {
                primaryColor: '#3B82F6',
                primaryTextColor: '#1F2937',
                primaryBorderColor: '#60A5FA',
                lineColor: '#60A5FA',
                background: '#FFFFFF'
            }
        });

        // Tab switching function
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
            
            // Load Mermaid diagrams if Mermaid tab is selected
            if (tabName === 'mermaid') {
                loadMermaidDiagrams();
            }
        }

        // Load Mermaid diagrams from test results
        async function loadMermaidDiagrams() {
            try {
                // Fetch the Mermaid results from the generated files
                const response = await fetch('test_results_comprehensive/mermaid/flowchart.json');
                if (response.ok) {
                    const data = await response.json();
                    if (data.mermaid_code) {
                        renderMermaid('mermaid-flowchart', data.mermaid_code);
                    }
                }
            } catch (error) {
                console.log('Loading sample diagrams as files may not exist yet');
                // Load sample diagrams
                loadSampleMermaidDiagrams();
            }
        }

        // Sample Mermaid diagrams for demonstration
        function loadSampleMermaidDiagrams() {
            const samples = {
                'mermaid-flowchart': `flowchart TD
    Start([Start])
    Input[/User Input/]
    Process{Process Data}
    Output1[Result A]
    Output2[Result B]
    End([End])
    
    Start --> Input
    Input --> Process
    Process -->|Option 1| Output1
    Process -->|Option 2| Output2
    Output1 --> End
    Output2 --> End`,
                
                'mermaid-erDiagram': `erDiagram
    CUSTOMER ||--o{ ORDER : places
    ORDER ||--|{ LINE-ITEM : contains
    PRODUCT ||--o{ LINE-ITEM : includes
    CUSTOMER {
        string name
        string email
        int customerNumber
    }
    ORDER {
        int orderNumber
        date orderDate
        string status
    }`,
                
                'mermaid-journey': `journey
    title User Shopping Journey
    section Discovery
      Visit Website: 5: User
      Browse Products: 4: User
      Read Reviews: 3: User
    section Purchase
      Add to Cart: 5: User
      Checkout: 3: User
      Payment: 2: User
    section Post-Purchase
      Receive Product: 5: User
      Use Product: 5: User`,
                
                'mermaid-gantt': `gantt
    title Project Timeline
    dateFormat YYYY-MM-DD
    section Phase 1
    Planning           :2024-01-01, 30d
    Development        :2024-01-15, 45d
    section Phase 2
    Testing            :2024-02-20, 20d
    Deployment         :2024-03-10, 10d`,
                
                'mermaid-quadrantChart': `quadrantChart
    title Priority Matrix
    x-axis Low Effort --> High Effort
    y-axis Low Impact --> High Impact
    quadrant-1 Quick Wins
    quadrant-2 Major Projects
    quadrant-3 Fill Ins
    quadrant-4 Time Wasters
    Task A: [0.3, 0.6]
    Task B: [0.7, 0.8]
    Task C: [0.2, 0.3]
    Task D: [0.8, 0.2]`,
                
                'mermaid-timeline': `timeline
    title Product Development Timeline
    
    2024 Q1 : Concept Development
            : Market Research
    
    2024 Q2 : Design Phase
            : Prototype Creation
    
    2024 Q3 : Testing
            : User Feedback
    
    2024 Q4 : Launch
            : Marketing Campaign`,
                
                'mermaid-kanban': `kanban
    Todo
      Task 1
      Task 2
    In Progress
      Task 3
      Task 4
    Done
      Task 5
      Task 6`
            };

            // Render each sample diagram
            Object.entries(samples).forEach(([elementId, code]) => {
                renderMermaid(elementId, code);
            });
        }

        // Render a Mermaid diagram
        function renderMermaid(elementId, mermaidCode) {
            const element = document.getElementById(elementId);
            if (element && mermaidCode) {
                element.innerHTML = '';
                element.removeAttribute('data-processed');
                element.textContent = mermaidCode;
                mermaid.run({
                    nodes: [element]
                });
            }
        }

        // Set timestamp
        document.getElementById('timestamp').textContent = new Date().toLocaleString();

        // Load Mermaid diagrams on page load if Mermaid tab is active
        window.addEventListener('load', () => {
            if (document.querySelector('#mermaid.active')) {
                loadMermaidDiagrams();
            }
        });
    </script>
</body>
</html>