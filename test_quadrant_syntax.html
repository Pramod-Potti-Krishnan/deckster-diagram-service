<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuadrantChart Syntax Testing</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f7fa;
        }
        
        h1 {
            color: #1a202c;
            border-bottom: 3px solid #3B82F6;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        
        .test-container {
            background: white;
            margin-bottom: 30px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .test-header {
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
            color: white;
            padding: 15px 20px;
        }
        
        .test-header h2 {
            margin: 0;
            font-size: 1.3em;
        }
        
        .test-content {
            padding: 30px;
            background: #fafbfc;
        }
        
        .mermaid-diagram {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            min-height: 200px;
        }
        
        .status {
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9em;
            margin-top: 10px;
            display: inline-block;
        }
        
        .status.success {
            background: #10b981;
            color: white;
        }
        
        .status.error {
            background: #ef4444;
            color: white;
        }
        
        .fix-note {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 10px;
            margin: 10px 0;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <h1>üîç QuadrantChart Syntax Investigation</h1>
    
    <!-- Test 1: Original from Playbook (with parentheses) -->
    <div class="test-container">
        <div class="test-header">
            <h2>1. Original from Playbook (Parentheses in Labels)</h2>
        </div>
        <div class="test-content">
            <div class="mermaid-diagram">
                <div class="mermaid" id="quadrant-original">
quadrantChart
    title Risk Assessment Matrix
    x-axis Low Impact --> High Impact
    y-axis Low Probability --> High Probability
    
    quadrant-1 Critical Risks (Mitigate Immediately)
    quadrant-2 Major Risks (Develop Contingency Plans)
    quadrant-3 Minor Risks (Accept or Monitor)
    quadrant-4 Moderate Risks (Preventive Measures)
    
    Data Breach: [0.9, 0.8]
    System Downtime: [0.85, 0.7]
    Key Person Loss: [0.7, 0.6]
                </div>
            </div>
            <div class="status" id="status-quadrant-original">Checking...</div>
        </div>
    </div>
    
    <!-- Test 2: Without Any Parentheses -->
    <div class="test-container">
        <div class="test-header">
            <h2>2. Without Any Parentheses</h2>
        </div>
        <div class="test-content">
            <div class="mermaid-diagram">
                <div class="mermaid" id="quadrant-no-parens">
quadrantChart
    title Risk Assessment Matrix
    x-axis Low Impact --> High Impact
    y-axis Low Probability --> High Probability
    
    quadrant-1 Critical Risks
    quadrant-2 Major Risks
    quadrant-3 Minor Risks
    quadrant-4 Moderate Risks
    
    Data Breach: [0.9, 0.8]
    System Downtime: [0.85, 0.7]
    Key Person Loss: [0.7, 0.6]
                </div>
            </div>
            <div class="status" id="status-quadrant-no-parens">Checking...</div>
        </div>
    </div>
    
    <!-- Test 3: Railway Working Version -->
    <div class="test-container">
        <div class="test-header">
            <h2>3. Railway Working Version</h2>
        </div>
        <div class="test-content">
            <div class="mermaid-diagram">
                <div class="mermaid" id="quadrant-railway">
quadrantChart
    title Software Project Risk Matrix
    x-axis Low Impact --> High Impact
    y-axis Low Probability --> High Probability
    
    quadrant-1 Critical Risks (High Impact, High Probability)
    quadrant-2 Manageable Risks (Low Impact, High Probability)
    quadrant-3 Acceptable Risks (Low Impact, Low Probability)
    quadrant-4 Serious but Unlikely Risks (High Impact, Low Probability)
    
    System Outage: [0.85, 0.8]
    Minor Bugs: [0.15, 0.75]
    UI Issues: [0.1, 0.2]
    Data Breach: [0.9, 0.1]
                </div>
            </div>
            <div class="status" id="status-quadrant-railway">Checking...</div>
        </div>
    </div>
    
    <!-- Test 4: Simple Labels (Most Basic) -->
    <div class="test-container">
        <div class="test-header">
            <h2>4. Most Basic (Simple Labels)</h2>
        </div>
        <div class="test-content">
            <div class="mermaid-diagram">
                <div class="mermaid" id="quadrant-simple">
quadrantChart
    title Risk Matrix
    x-axis Low --> High
    y-axis Low --> High
    
    quadrant-1 Q1
    quadrant-2 Q2
    quadrant-3 Q3
    quadrant-4 Q4
    
    Item A: [0.9, 0.8]
    Item B: [0.2, 0.7]
    Item C: [0.3, 0.3]
    Item D: [0.8, 0.2]
                </div>
            </div>
            <div class="status" id="status-quadrant-simple">Checking...</div>
        </div>
    </div>
    
    <script>
        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#3B82F6',
                primaryTextColor: '#fff',
                primaryBorderColor: '#2563EB',
                lineColor: '#94A3B8',
                secondaryColor: '#60A5FA',
                tertiaryColor: '#DBEAFE'
            },
            securityLevel: 'loose'
        });
        
        // Check each diagram for errors
        setTimeout(() => {
            const diagrams = [
                'quadrant-original',
                'quadrant-no-parens',
                'quadrant-railway',
                'quadrant-simple'
            ];
            
            diagrams.forEach(id => {
                const element = document.getElementById(id);
                const statusElement = document.getElementById(`status-${id}`);
                
                if (element) {
                    // Check if diagram rendered (will have SVG content)
                    if (element.querySelector('svg')) {
                        statusElement.textContent = '‚úÖ Rendering successful';
                        statusElement.className = 'status success';
                    } else if (element.textContent.includes('Syntax error')) {
                        statusElement.textContent = '‚ùå Syntax error detected';
                        statusElement.className = 'status error';
                        // Log the error details
                        console.error(`Error in ${id}:`, element.textContent);
                    } else {
                        statusElement.textContent = '‚ö†Ô∏è Unknown status';
                        statusElement.className = 'status';
                    }
                }
            });
        }, 2000);
    </script>
</body>
</html>