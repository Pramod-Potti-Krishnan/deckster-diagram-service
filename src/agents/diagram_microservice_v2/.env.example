# Diagram Microservice v2 Environment Variables
# Copy this file to .env and fill in your actual values

# Essential - Supabase Configuration
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_KEY=your_supabase_service_key

# WebSocket Configuration
WS_HOST=0.0.0.0
WS_PORT=8001

# Storage Configuration
DIAGRAM_BUCKET=diagrams
STORAGE_PUBLIC=true
CACHE_TYPE=memory
CACHE_TTL=3600

# Logging
LOG_LEVEL=INFO
LOGFIRE_TOKEN=your_logfire_token
LOGFIRE_ENVIRONMENT=production
LOGFIRE_CONSOLE=true
LOGFIRE_SEND_TO_LOGFIRE=true

# Performance
MAX_WORKERS=4
REQUEST_TIMEOUT=30
MAX_CONNECTIONS=100

# Security
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
API_KEY=

# AI Services for Semantic Routing and LLM Generation
GOOGLE_API_KEY=your_google_api_key
GEMINI_MODEL=gemini-2.5-flash
ENABLE_SEMANTIC_ROUTING=true

# LLM Mermaid Generation (PRIMARY method)
ENABLE_LLM_MERMAID=true
LLM_DEBUG_MODE=false
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2048
ENABLE_REQUEST_ANALYSIS=true

# Mermaid Server-Side Rendering
MERMAID_SERVER_RENDER=true
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium

# Feature Flags
ENABLE_CACHE=true
ENABLE_FALLBACK=true
ENABLE_METRICS=true

# Redis (optional, for production)
REDIS_URL=redis://localhost:6379